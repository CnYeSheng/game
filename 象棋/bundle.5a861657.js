!function(s){function r(r){for(var e,i,t=r[0],o=r[1],n=r[2],c=0,a=[];c<t.length;c++)i=t[c],Object.prototype.hasOwnProperty.call(h,i)&&h[i]&&a.push(h[i][0]),h[i]=0;for(e in o)Object.prototype.hasOwnProperty.call(o,e)&&(s[e]=o[e]);for(b&&b(r);a.length;)a.shift()();return u.push.apply(u,n||[]),l()}function l(){for(var r,e=0;e<u.length;e++){for(var i=u[e],t=!0,o=1;o<i.length;o++){var n=i[o];0!==h[n]&&(t=!1)}t&&(u.splice(e--,1),r=c(c.s=i[0]))}return r}var i={},h={0:0},u=[];function c(r){if(i[r])return i[r].exports;var e=i[r]={i:r,l:!1,exports:{}};return s[r].call(e.exports,e,e.exports,c),e.l=!0,e.exports}c.m=s,c.c=i,c.d=function(r,e,i){c.o(r,e)||Object.defineProperty(r,e,{enumerable:!0,get:i})},c.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},c.t=function(e,r){if(1&r&&(e=c(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(c.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var t in e)c.d(i,t,function(r){return e[r]}.bind(null,t));return i},c.n=function(r){var e=r&&r.__esModule?function(){return r.default}:function(){return r};return c.d(e,"a",e),e},c.o=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)},c.p="";var e=window.webpackJsonp=window.webpackJsonp||[],t=e.push.bind(e);e.push=r,e=e.slice();for(var o=0;o<e.length;o++)r(e[o]);var b=t;u.push([169,1]),l()}({169:function(r,e,i){"use strict";i.r(e);var e=i(81),fe={domIdMap:new(i.n(e).a)([["redCheA","#red-che-A"],["redCheB","#red-che-B"],["redMaA","#red-ma-A"],["redMaB","#red-ma-B"],["redXiangA","#red-xiang-A"],["redXiangB","#red-xiang-B"],["redShiA","#red-shi-A"],["redShiB","#red-shi-B"],["redPaoA","#red-pao-A"],["redPaoB","#red-pao-B"],["redBingA","#red-bing-A"],["redBingB","#red-bing-B"],["redBingC","#red-bing-C"],["redBingD","#red-bing-D"],["redBingE","#red-bing-E"],["redShuai","#red-shuai"],["blackCheA","#black-che-A"],["blackCheB","#black-che-B"],["blackMaA","#black-ma-A"],["blackMaB","#black-ma-B"],["blackXiangA","#black-xiang-A"],["blackXiangB","#black-xiang-B"],["blackShiA","#black-shi-A"],["blackShiB","#black-shi-B"],["blackPaoA","#black-pao-A"],["blackPaoB","#black-pao-B"],["blackBingA","#black-bing-A"],["blackBingB","#black-bing-B"],["blackBingC","#black-bing-C"],["blackBingD","#black-bing-D"],["blackBingE","#black-bing-E"],["blackShuai","#black-shuai"]]),currentPosition:{redCheA:[0,9],redCheB:[8,9],blackCheA:[0,0],blackCheB:[8,0],redMaA:[1,9],redMaB:[7,9],blackMaA:[1,0],blackMaB:[7,0],redXiangA:[2,9],redXiangB:[6,9],blackXiangA:[2,0],blackXiangB:[6,0],redShiA:[3,9],redShiB:[5,9],blackShiA:[3,0],blackShiB:[5,0],redShuai:[4,9],blackShuai:[4,0],redPaoA:[1,7],redPaoB:[7,7],blackPaoA:[1,2],blackPaoB:[7,2],redBingA:[0,6],redBingB:[2,6],redBingC:[4,6],redBingD:[6,6],redBingE:[8,6],blackBingA:[0,3],blackBingB:[2,3],blackBingC:[4,3],blackBingD:[6,3],blackBingE:[8,3]},currentPlayer:"red",redUsedSeconds:0,blackUsedSeconds:0,redTimer:null,blackTimer:null,beforeMoveX:0,beforeMoveY:0,clickX:0,clickY:0,step:!1,twinklingChess:null,twinklingName:"",clickChessTimer:null};function t(r){r.style.opacity="0",fe.clickChessTimer=setInterval(function(){"1"===r.style.opacity?r.style.opacity="0":r.style.opacity="1"},500)}function ke(r){if(r.target.className.substr(6)===fe.currentPlayer)return fe.step=!0,fe.beforeMoveX=r.pageX,fe.beforeMoveY=r.pageY,null==fe.twinklingChess?(fe.twinklingChess=r.target,fe.twinklingName=r.target.id,void t(r.target)):(fe.twinklingChess.style.opacity="1",fe.twinklingName===r.target.id?(fe.twinklingChess=null,fe.step=!1,void clearInterval(fe.clickChessTimer)):void(fe.twinklingChess!==r.target?(clearInterval(fe.clickChessTimer),fe.twinklingChess=r.target,fe.twinklingName=r.target.id,t(r.target)):fe.twinklingChess=null))}function de(r){return fe.clickX=r.pageX,fe.clickY=r.pageY,(40<Math.abs(fe.clickX-fe.beforeMoveX)||40<Math.abs(fe.clickY-fe.beforeMoveY))&&!0===fe.step}var e=i(1),Pe=i.n(e),e=i(82),Xe=i.n(e),e=i(83),ve=i.n(e),e=i(33),ge=i.n(e),e=i(0),Be=i.n(e),e=(i(139),i(23)),o=i.n(e);function Ye(r){r=r.split("").reverse();return r.splice(0,2),(o()(r.reverse().join(""))+25)/60}function we(i,t){if("red"!==fe.currentPlayer)try{Be()(fe.currentPosition).forEach(function(r,e){if(r[0]===i&&r[1]===t)throw"red"===ge()(fe.currentPosition)[e].substr(0,3)?new Error(!0):new Error(!1)})}catch(i){return"false"!==i.message}else try{Be()(fe.currentPosition).forEach(function(r,e){if(r[0]===i&&r[1]===t)throw"black"===ge()(fe.currentPosition)[e].substr(0,5)?new Error(!0):new Error(!1)})}catch(i){return"false"!==i.message}}i(159);function n(r){var e=o()(r/3600),i=o()(r%3600/60),r=r%3600%60;return(e=e<10?"0"+e:e)+":"+(i=i<10?"0"+i:i)+":"+(r<10?"0"+r:r)}window.addEventListener("DOMContentLoaded",function(){document.querySelector("#red-act").style.opacity="1",document.querySelector("#black-act").style.opacity="0",fe.redTimer=setInterval(function(){fe.redUsedSeconds++,document.querySelector(".used-time-red").innerText=n(fe.redUsedSeconds)},1e3)}),document.querySelector(".chessContent").addEventListener("click",ke),document.querySelector(".container").addEventListener("click",function(r){var e=void 0;de(r)&&(e=function(){var r=JSON.parse(Xe()(fe.currentPosition));switch(fe.twinklingChess.innerText){case"車":if(40<Math.abs(fe.clickY-fe.beforeMoveY)&&40<Math.abs(fe.clickX-fe.beforeMoveX))return!1;if("red-che-A"===fe.twinklingChess.id){var e=Pe()(fe.currentPosition.redCheA);if(Math.abs(fe.clickX-fe.beforeMoveX)<20)if(fe.clickY-fe.beforeMoveY<0){var i=fe.currentPosition.redCheA[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60);try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===e[0]&&r[1]<e[1]&&r[1]>i)throw new Error("移动前Y坐标是："+e[1]+"————落点Y坐标是："+i+"————本次被Y坐标为："+r[1]+"的棋子拦截")})}catch(r){return!1}fe.currentPosition.redCheA[1]=fe.currentPosition.redCheA[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)}else{var t=fe.currentPosition.redCheA[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60);try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===e[0]&&r[1]>e[1]&&r[1]<t)throw new Error("移动前Y坐标是："+e[1]+"————落点Y坐标是："+t+"————本次被Y坐标为："+r[1]+"的棋子拦截")})}catch(r){return!1}fe.currentPosition.redCheA[1]=fe.currentPosition.redCheA[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)}else if(fe.clickX-fe.beforeMoveX<0){var o=fe.currentPosition.redCheA[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60);try{Be()(fe.currentPosition).forEach(function(r){if(r[1]===e[1]&&r[0]<e[0]&&r[0]>o)throw new Error("移动前X坐标是："+e[0]+"————落点X坐标是："+o+"————本次被X坐标为："+r[0]+"的棋子拦截")})}catch(r){return!1}fe.currentPosition.redCheA[0]=fe.currentPosition.redCheA[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60)}else{var n=fe.currentPosition.redCheA[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60);try{Be()(fe.currentPosition).forEach(function(r){if(r[1]===e[1]&&r[0]>e[0]&&r[0]<n)throw new Error("移动前X坐标是："+e[0]+"————落点X坐标是："+n+"————本次被X坐标为："+r[0]+"的棋子拦截")})}catch(r){return!1}fe.currentPosition.redCheA[0]=fe.currentPosition.redCheA[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60)}fe.twinklingChess.style.left=60*fe.currentPosition.redCheA[0]-25+"px",fe.twinklingChess.style.top=60*fe.currentPosition.redCheA[1]-25+"px"}if("red-che-B"===fe.twinklingChess.id){var c=Pe()(fe.currentPosition.redCheB);if(Math.abs(fe.clickX-fe.beforeMoveX)<20)if(fe.clickY-fe.beforeMoveY<0){var a=fe.currentPosition.redCheB[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60);try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===c[0]&&r[1]<c[1]&&r[1]>a)throw new Error("移动前Y坐标是："+c[1]+"————落点Y坐标是："+a+"————本次被Y坐标为："+r[1]+"的棋子拦截")})}catch(r){return!1}fe.currentPosition.redCheB[1]=fe.currentPosition.redCheB[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)}else{var s=fe.currentPosition.redCheB[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60);try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===c[0]&&r[1]>c[1]&&r[1]<s)throw new Error("移动前Y坐标是："+c[1]+"————落点Y坐标是："+s+"————本次被Y坐标为："+r[1]+"的棋子拦截")})}catch(r){return!1}fe.currentPosition.redCheB[1]=fe.currentPosition.redCheB[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)}else if(fe.clickX-fe.beforeMoveX<0){var l=fe.currentPosition.redCheB[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60);try{Be()(fe.currentPosition).forEach(function(r){if(r[1]===c[1]&&r[0]<c[0]&&r[0]>l)throw new Error("移动前X坐标是："+c[0]+"————落点X坐标是："+l+"————本次被X坐标为："+r[0]+"的棋子拦截")})}catch(r){return!1}fe.currentPosition.redCheB[0]=fe.currentPosition.redCheB[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60)}else{var h=fe.currentPosition.redCheB[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60);try{Be()(fe.currentPosition).forEach(function(r){if(r[1]===c[1]&&r[0]>c[0]&&r[0]<h)throw new Error("移动前X坐标是："+c[0]+"————落点X坐标是："+h+"————本次被X坐标为："+r[0]+"的棋子拦截")})}catch(r){return!1}fe.currentPosition.redCheB[0]=fe.currentPosition.redCheB[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60)}fe.twinklingChess.style.left=60*fe.currentPosition.redCheB[0]-25+"px",fe.twinklingChess.style.top=60*fe.currentPosition.redCheB[1]-25+"px"}if("black-che-A"===fe.twinklingChess.id){var u=Pe()(fe.currentPosition.blackCheA);if(Math.abs(fe.clickX-fe.beforeMoveX)<20)if(fe.clickY-fe.beforeMoveY<0){var b=fe.currentPosition.blackCheA[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60);try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===u[0]&&r[1]<u[1]&&r[1]>b)throw new Error("移动前Y坐标是："+u[1]+"————落点Y坐标是："+b+"————本次被Y坐标为："+r[1]+"的棋子拦截")})}catch(r){return!1}fe.currentPosition.blackCheA[1]=fe.currentPosition.blackCheA[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)}else{var M=fe.currentPosition.blackCheA[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60);try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===u[0]&&r[1]>u[1]&&r[1]<M)throw new Error("移动前Y坐标是："+u[1]+"————落点Y坐标是："+M+"————本次被Y坐标为："+r[1]+"的棋子拦截")})}catch(r){return!1}fe.currentPosition.blackCheA[1]=fe.currentPosition.blackCheA[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)}else if(fe.clickX-fe.beforeMoveX<0){var f=fe.currentPosition.blackCheA[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60);try{Be()(fe.currentPosition).forEach(function(r){if(r[1]===u[1]&&r[0]<u[0]&&r[0]>f)throw new Error("移动前X坐标是："+u[0]+"————落点X坐标是："+f+"————本次被X坐标为："+r[0]+"的棋子拦截")})}catch(r){return!1}fe.currentPosition.blackCheA[0]=fe.currentPosition.blackCheA[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60)}else{var k=fe.currentPosition.blackCheA[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60);try{Be()(fe.currentPosition).forEach(function(r){if(r[1]===u[1]&&r[0]>u[0]&&r[0]<k)throw new Error("移动前X坐标是："+u[0]+"————落点X坐标是："+k+"————本次被X坐标为："+r[0]+"的棋子拦截")})}catch(r){return!1}fe.currentPosition.blackCheA[0]=fe.currentPosition.blackCheA[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60)}fe.twinklingChess.style.left=60*fe.currentPosition.blackCheA[0]-25+"px",fe.twinklingChess.style.top=60*fe.currentPosition.blackCheA[1]-25+"px"}if("black-che-B"===fe.twinklingChess.id){var d=Pe()(fe.currentPosition.blackCheB);if(Math.abs(fe.clickX-fe.beforeMoveX)<20)if(fe.clickY-fe.beforeMoveY<0){var P=fe.currentPosition.blackCheB[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60);try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===d[0]&&r[1]<d[1]&&r[1]>P)throw new Error("移动前Y坐标是："+d[1]+"————落点Y坐标是："+P+"————本次被Y坐标为："+r[1]+"的棋子拦截")})}catch(r){return!1}fe.currentPosition.blackCheB[1]=fe.currentPosition.blackCheB[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)}else{var X=fe.currentPosition.blackCheB[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60);try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===d[0]&&r[1]>d[1]&&r[1]<X)throw new Error("移动前Y坐标是："+d[1]+"————落点Y坐标是："+X+"————本次被Y坐标为："+r[1]+"的棋子拦截")})}catch(r){return!1}fe.currentPosition.blackCheB[1]=fe.currentPosition.blackCheB[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)}else if(fe.clickX-fe.beforeMoveX<0){var v=fe.currentPosition.blackCheB[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60);try{Be()(fe.currentPosition).forEach(function(r){if(r[1]===d[1]&&r[0]<d[0]&&r[0]>v)throw new Error("移动前X坐标是："+d[0]+"————落点X坐标是："+v+"————本次被X坐标为："+r[0]+"的棋子拦截")})}catch(r){return!1}fe.currentPosition.blackCheB[0]=fe.currentPosition.blackCheB[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60)}else{var g=fe.currentPosition.blackCheB[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60);try{Be()(fe.currentPosition).forEach(function(r){if(r[1]===d[1]&&r[0]>d[0]&&r[0]<g)throw new Error("移动前X坐标是："+d[0]+"————落点X坐标是："+g+"————本次被X坐标为："+r[0]+"的棋子拦截")})}catch(r){return!1}fe.currentPosition.blackCheB[0]=fe.currentPosition.blackCheB[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60)}fe.twinklingChess.style.left=60*fe.currentPosition.blackCheB[0]-25+"px",fe.twinklingChess.style.top=60*fe.currentPosition.blackCheB[1]-25+"px"}break;case"傌":case"馬":if(!(Math.abs(fe.clickX-fe.beforeMoveX)<80&&Math.abs(fe.clickY-fe.beforeMoveY)<140&&100<Math.abs(fe.clickY-fe.beforeMoveY)||Math.abs(fe.clickY-fe.beforeMoveY)<80&&Math.abs(fe.clickX-fe.beforeMoveX)<140&&100<Math.abs(fe.clickX-fe.beforeMoveX)))return!1;if(fe.clickX-fe.beforeMoveX<0)if(fe.clickY-fe.beforeMoveY<0){if("red-ma-A"===fe.twinklingChess.id){var B=Pe()(fe.currentPosition.redMaA),Y=fe.currentPosition.redMaA[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),w=fe.currentPosition.redMaA[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60);if(B[0]-Y==2)try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===B[0]-1&&r[1]===B[1])throw new Error("马左侧有棋子，无法移动")})}catch(r){return!1}if(B[1]-w==2)try{Be()(fe.currentPosition).forEach(function(r){if(r[1]===B[1]-1&&r[0]===B[0])throw new Error("马头部有棋子，无法移动")})}catch(r){return!1}fe.currentPosition.redMaA[0]=Y,fe.currentPosition.redMaA[1]=w,fe.twinklingChess.style.left=60*Y-25+"px",fe.twinklingChess.style.top=60*w-25+"px"}if("red-ma-B"===fe.twinklingChess.id){var C=Pe()(fe.currentPosition.redMaB),Y=fe.currentPosition.redMaB[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),w=fe.currentPosition.redMaB[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60);if(C[0]-Y==2)try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===C[0]-1&&r[1]===C[1])throw new Error("马左侧有棋子，无法移动")})}catch(r){return!1}if(C[1]-w==2)try{Be()(fe.currentPosition).forEach(function(r){if(r[1]===C[1]-1&&r[0]===C[0])throw new Error("马头部有棋子，无法移动")})}catch(r){return!1}fe.currentPosition.redMaB[0]=Y,fe.currentPosition.redMaB[1]=w,fe.twinklingChess.style.left=60*Y-25+"px",fe.twinklingChess.style.top=60*w-25+"px"}if("black-ma-A"===fe.twinklingChess.id){var y=Pe()(fe.currentPosition.blackMaA),A=fe.currentPosition.blackMaA[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),p=fe.currentPosition.blackMaA[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60);if(y[0]-A==2)try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===y[0]-1&&r[1]===y[1])throw new Error("马左侧有棋子，无法移动")})}catch(r){return!1}if(y[1]-p==2)try{Be()(fe.currentPosition).forEach(function(r){if(r[1]===y[1]-1&&r[0]===y[0])throw new Error("马头部有棋子，无法移动")})}catch(r){return!1}fe.currentPosition.blackMaA[0]=A,fe.currentPosition.blackMaA[1]=p,fe.twinklingChess.style.left=60*A-25+"px",fe.twinklingChess.style.top=60*p-25+"px"}if("black-ma-B"===fe.twinklingChess.id){var S=Pe()(fe.currentPosition.blackMaB),A=fe.currentPosition.blackMaB[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),p=fe.currentPosition.blackMaB[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60);if(S[0]-A==2)try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===S[0]-1&&r[1]===S[1])throw new Error("马左侧有棋子，无法移动")})}catch(r){return!1}if(S[1]-p==2)try{Be()(fe.currentPosition).forEach(function(r){if(r[1]===S[1]-1&&r[0]===S[0])throw new Error("马头部有棋子，无法移动")})}catch(r){return!1}fe.currentPosition.blackMaB[0]=A,fe.currentPosition.blackMaB[1]=p,fe.twinklingChess.style.left=60*A-25+"px",fe.twinklingChess.style.top=60*p-25+"px"}}else{if("red-ma-A"===fe.twinklingChess.id){var E=Pe()(fe.currentPosition.redMaA),x=fe.currentPosition.redMaA[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),m=fe.currentPosition.redMaA[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60);if(E[0]-x==2)try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===E[0]-1&&r[1]===E[1])throw new Error("马左侧有棋子，无法移动")})}catch(r){return!1}if(E[1]-m==-2)try{Be()(fe.currentPosition).forEach(function(r){if(r[1]===E[1]+1&&r[0]===E[0])throw new Error("马下面有棋子，无法移动")})}catch(r){return!1}fe.currentPosition.redMaA[0]=x,fe.currentPosition.redMaA[1]=m,fe.twinklingChess.style.left=60*x-25+"px",fe.twinklingChess.style.top=60*m-25+"px"}if("red-ma-B"===fe.twinklingChess.id){var D=Pe()(fe.currentPosition.redMaB),x=fe.currentPosition.redMaB[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),m=fe.currentPosition.redMaB[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60);if(D[0]-x==2)try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===D[0]-1&&r[1]===D[1])throw new Error("马左侧有棋子，无法移动")})}catch(r){return!1}if(D[1]-m==-2)try{Be()(fe.currentPosition).forEach(function(r){if(r[1]===D[1]+1&&r[0]===D[0])throw new Error("马下面有棋子，无法移动")})}catch(r){return!1}fe.currentPosition.redMaB[0]=x,fe.currentPosition.redMaB[1]=m,fe.twinklingChess.style.left=60*x-25+"px",fe.twinklingChess.style.top=60*m-25+"px"}if("black-ma-A"===fe.twinklingChess.id){var T=Pe()(fe.currentPosition.blackMaA),q=fe.currentPosition.blackMaA[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),I=fe.currentPosition.blackMaA[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60);if(T[0]-q==2)try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===T[0]-1&&r[1]===T[1])throw new Error("马左侧有棋子，无法移动")})}catch(r){return!1}if(T[1]-I==-2)try{Be()(fe.currentPosition).forEach(function(r){if(r[1]===T[1]+1&&r[0]===T[0])throw new Error("马下面有棋子，无法移动")})}catch(r){return!1}fe.currentPosition.blackMaA[0]=q,fe.currentPosition.blackMaA[1]=I,fe.twinklingChess.style.left=60*q-25+"px",fe.twinklingChess.style.top=60*I-25+"px"}if("black-ma-B"===fe.twinklingChess.id){var O=Pe()(fe.currentPosition.blackMaB),q=fe.currentPosition.blackMaB[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),I=fe.currentPosition.blackMaB[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60);if(O[0]-q==2)try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===O[0]-1&&r[1]===O[1])throw new Error("马左侧有棋子，无法移动")})}catch(r){return!1}if(O[1]-I==-2)try{Be()(fe.currentPosition).forEach(function(r){if(r[1]===O[1]+1&&r[0]===O[0])throw new Error("马下面有棋子，无法移动")})}catch(r){return!1}fe.currentPosition.blackMaB[0]=q,fe.currentPosition.blackMaB[1]=I,fe.twinklingChess.style.left=60*q-25+"px",fe.twinklingChess.style.top=60*I-25+"px"}}else if(fe.clickY-fe.beforeMoveY<0){if("red-ma-A"===fe.twinklingChess.id){var U=Pe()(fe.currentPosition.redMaA),j=fe.currentPosition.redMaA[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),L=fe.currentPosition.redMaA[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60);if(U[0]-j==-2)try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===U[0]+1&&r[1]===U[1])throw new Error("马右侧有棋子，无法移动")})}catch(r){return!1}if(U[1]-L==2)try{Be()(fe.currentPosition).forEach(function(r){if(r[1]===U[1]-1&&r[0]===U[0])throw new Error("马头部有棋子，无法移动")})}catch(r){return!1}fe.currentPosition.redMaA[0]=j,fe.currentPosition.redMaA[1]=L,fe.twinklingChess.style.left=60*j-25+"px",fe.twinklingChess.style.top=60*L-25+"px"}if("red-ma-B"===fe.twinklingChess.id){var N=Pe()(fe.currentPosition.redMaB),j=fe.currentPosition.redMaB[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),L=fe.currentPosition.redMaB[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60);if(N[0]-j==-2)try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===N[0]+1&&r[1]===N[1])throw new Error("马右侧有棋子，无法移动")})}catch(r){return!1}if(N[1]-L==2)try{Be()(fe.currentPosition).forEach(function(r){if(r[1]===N[1]-1&&r[0]===N[0])throw new Error("马头部有棋子，无法移动")})}catch(r){return!1}fe.currentPosition.redMaB[0]=j,fe.currentPosition.redMaB[1]=L,fe.twinklingChess.style.left=60*j-25+"px",fe.twinklingChess.style.top=60*L-25+"px"}if("black-ma-A"===fe.twinklingChess.id){var _=Pe()(fe.currentPosition.blackMaA),J=fe.currentPosition.blackMaA[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),z=fe.currentPosition.blackMaA[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60);if(_[0]-J==-2)try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===_[0]+1&&r[1]===_[1])throw new Error("马右侧有棋子，无法移动")})}catch(r){return!1}if(_[1]-z==2)try{Be()(fe.currentPosition).forEach(function(r){if(r[1]===_[1]-1&&r[0]===_[0])throw new Error("马头部有棋子，无法移动")})}catch(r){return!1}fe.currentPosition.blackMaA[0]=J,fe.currentPosition.blackMaA[1]=z,fe.twinklingChess.style.left=60*J-25+"px",fe.twinklingChess.style.top=60*z-25+"px"}if("black-ma-B"===fe.twinklingChess.id){var F=Pe()(fe.currentPosition.blackMaB),J=fe.currentPosition.blackMaB[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),z=fe.currentPosition.blackMaB[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60);if(F[0]-J==-2)try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===F[0]+1&&r[1]===F[1])throw new Error("马右侧有棋子，无法移动")})}catch(r){return!1}if(F[1]-z==2)try{Be()(fe.currentPosition).forEach(function(r){if(r[1]===F[1]-1&&r[0]===F[0])throw new Error("马头部有棋子，无法移动")})}catch(r){return!1}fe.currentPosition.blackMaB[0]=J,fe.currentPosition.blackMaB[1]=z,fe.twinklingChess.style.left=60*J-25+"px",fe.twinklingChess.style.top=60*z-25+"px"}}else{if("red-ma-A"===fe.twinklingChess.id){var G=Pe()(fe.currentPosition.redMaA),H=fe.currentPosition.redMaA[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),K=fe.currentPosition.redMaA[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60);if(G[0]-H==-2)try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===G[0]+1&&r[1]===G[1])throw new Error("马右侧有棋子，无法移动")})}catch(r){return!1}if(G[1]-K==-2)try{Be()(fe.currentPosition).forEach(function(r){if(r[1]===G[1]+1&&r[0]===G[0])throw new Error("马下面有棋子，无法移动")})}catch(r){return!1}fe.currentPosition.redMaA[0]=H,fe.currentPosition.redMaA[1]=K,fe.twinklingChess.style.left=60*H-25+"px",fe.twinklingChess.style.top=60*K-25+"px"}if("red-ma-B"===fe.twinklingChess.id){var Q=Pe()(fe.currentPosition.redMaB),H=fe.currentPosition.redMaB[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),K=fe.currentPosition.redMaB[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60);if(Q[0]-H==-2)try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===Q[0]+1&&r[1]===Q[1])throw new Error("马右侧有棋子，无法移动")})}catch(r){return!1}if(Q[1]-K==-2)try{Be()(fe.currentPosition).forEach(function(r){if(r[1]===Q[1]+1&&r[0]===Q[0])throw new Error("马下面有棋子，无法移动")})}catch(r){return!1}fe.currentPosition.redMaB[0]=H,fe.currentPosition.redMaB[1]=K,fe.twinklingChess.style.left=60*H-25+"px",fe.twinklingChess.style.top=60*K-25+"px"}if("black-ma-A"===fe.twinklingChess.id){var R=Pe()(fe.currentPosition.blackMaA),V=fe.currentPosition.blackMaA[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),W=fe.currentPosition.blackMaA[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60);if(R[0]-V==-2)try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===R[0]+1&&r[1]===R[1])throw new Error("马右侧有棋子，无法移动")})}catch(r){return!1}if(R[1]-W==-2)try{Be()(fe.currentPosition).forEach(function(r){if(r[1]===R[1]+1&&r[0]===R[0])throw new Error("马下面有棋子，无法移动")})}catch(r){return!1}fe.currentPosition.blackMaA[0]=V,fe.currentPosition.blackMaA[1]=W,fe.twinklingChess.style.left=60*V-25+"px",fe.twinklingChess.style.top=60*W-25+"px"}if("black-ma-B"===fe.twinklingChess.id){var Z=Pe()(fe.currentPosition.blackMaB),V=fe.currentPosition.blackMaB[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),W=fe.currentPosition.blackMaB[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60);if(Z[0]-V==-2)try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===Z[0]+1&&r[1]===Z[1])throw new Error("马右侧有棋子，无法移动")})}catch(r){return!1}if(Z[1]-W==-2)try{Be()(fe.currentPosition).forEach(function(r){if(r[1]===Z[1]+1&&r[0]===Z[0])throw new Error("马下面有棋子，无法移动")})}catch(r){return!1}fe.currentPosition.blackMaB[0]=V,fe.currentPosition.blackMaB[1]=W,fe.twinklingChess.style.left=60*V-25+"px",fe.twinklingChess.style.top=60*W-25+"px"}}break;case"相":case"象":if(!(100<Math.abs(fe.clickX-fe.beforeMoveX)&&Math.abs(fe.clickX-fe.beforeMoveX)<140&&100<Math.abs(fe.clickY-fe.beforeMoveY)&&Math.abs(fe.clickY-fe.beforeMoveY)<140))return!1;if(fe.clickX-fe.beforeMoveX<0)if(fe.clickY-fe.beforeMoveY<0){if("red-xiang-A"===fe.twinklingChess.id){var $=fe.currentPosition.redXiangA[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),rr=fe.currentPosition.redXiangA[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60);try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===1+$&&r[1]===1+rr)throw new Error("象眼被堵，不可移动到此处！")})}catch(r){return!1}if(!(5<=rr&&rr<=9))return!1;fe.currentPosition.redXiangA[0]=$,fe.currentPosition.redXiangA[1]=rr,fe.twinklingChess.style.left=60*fe.currentPosition.redXiangA[0]-25+"px",fe.twinklingChess.style.top=60*fe.currentPosition.redXiangA[1]-25+"px"}if("red-xiang-B"===fe.twinklingChess.id){var er=fe.currentPosition.redXiangB[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),ir=fe.currentPosition.redXiangB[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60);try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===1+er&&r[1]===1+ir)throw new Error("象眼被堵，不可移动到此处！")})}catch(r){return!1}if(!(5<=ir&&ir<=9))return!1;fe.currentPosition.redXiangB[0]=er,fe.currentPosition.redXiangB[1]=ir,fe.twinklingChess.style.left=60*fe.currentPosition.redXiangB[0]-25+"px",fe.twinklingChess.style.top=60*fe.currentPosition.redXiangB[1]-25+"px"}if("black-xiang-A"===fe.twinklingChess.id){var tr=fe.currentPosition.blackXiangA[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),or=fe.currentPosition.blackXiangA[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60);try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===1+tr&&r[1]===1+or)throw new Error("象眼被堵，不可移动到此处！")})}catch(r){return!1}if(!(or<=4&&0<=or))return!1;fe.currentPosition.blackXiangA[0]=tr,fe.currentPosition.blackXiangA[1]=or,fe.twinklingChess.style.left=60*fe.currentPosition.blackXiangA[0]-25+"px",fe.twinklingChess.style.top=60*fe.currentPosition.blackXiangA[1]-25+"px"}if("black-xiang-B"===fe.twinklingChess.id){var nr=fe.currentPosition.blackXiangB[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),cr=fe.currentPosition.blackXiangB[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60);try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===1+nr&&r[1]===1+cr)throw new Error("象眼被堵，不可移动到此处！")})}catch(r){return!1}if(!(cr<=4&&0<=cr))return!1;fe.currentPosition.blackXiangB[0]=nr,fe.currentPosition.blackXiangB[1]=cr,fe.twinklingChess.style.left=60*fe.currentPosition.blackXiangB[0]-25+"px",fe.twinklingChess.style.top=60*fe.currentPosition.blackXiangB[1]-25+"px"}}else{if("red-xiang-A"===fe.twinklingChess.id){var ar=fe.currentPosition.redXiangA[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),sr=fe.currentPosition.redXiangA[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60);try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===1+ar&&r[1]===sr-1)throw new Error("象眼被堵，不可移动到此处！")})}catch(r){return!1}if(!(5<=sr&&sr<=9))return!1;fe.currentPosition.redXiangA[0]=ar,fe.currentPosition.redXiangA[1]=sr,fe.twinklingChess.style.left=60*fe.currentPosition.redXiangA[0]-25+"px",fe.twinklingChess.style.top=60*fe.currentPosition.redXiangA[1]-25+"px"}if("red-xiang-B"===fe.twinklingChess.id){var lr=fe.currentPosition.redXiangB[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),hr=fe.currentPosition.redXiangB[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60);try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===1+lr&&r[1]===hr-1)throw new Error("象眼被堵，不可移动到此处！")})}catch(r){return!1}if(!(5<=hr&&hr<=9))return!1;fe.currentPosition.redXiangB[0]=lr,fe.currentPosition.redXiangB[1]=hr,fe.twinklingChess.style.left=60*fe.currentPosition.redXiangB[0]-25+"px",fe.twinklingChess.style.top=60*fe.currentPosition.redXiangB[1]-25+"px"}if("black-xiang-A"===fe.twinklingChess.id){var ur=fe.currentPosition.blackXiangA[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),br=fe.currentPosition.blackXiangA[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60);try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===1+ur&&r[1]===br-1)throw new Error("象眼被堵，不可移动到此处！")})}catch(r){return!1}if(!(br<=4&&0<=br))return!1;fe.currentPosition.blackXiangA[0]=ur,fe.currentPosition.blackXiangA[1]=br,fe.twinklingChess.style.left=60*fe.currentPosition.blackXiangA[0]-25+"px",fe.twinklingChess.style.top=60*fe.currentPosition.blackXiangA[1]-25+"px"}if("black-xiang-B"===fe.twinklingChess.id){var Mr=fe.currentPosition.blackXiangB[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),fr=fe.currentPosition.blackXiangB[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60);try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===1+Mr&&r[1]===fr-1)throw new Error("象眼被堵，不可移动到此处！")})}catch(r){return!1}if(!(fr<=4&&0<=fr))return!1;fe.currentPosition.blackXiangB[0]=Mr,fe.currentPosition.blackXiangB[1]=fr,fe.twinklingChess.style.left=60*fe.currentPosition.blackXiangB[0]-25+"px",fe.twinklingChess.style.top=60*fe.currentPosition.blackXiangB[1]-25+"px"}}else if(fe.clickY-fe.beforeMoveY<0){if("red-xiang-A"===fe.twinklingChess.id){var kr=fe.currentPosition.redXiangA[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),dr=fe.currentPosition.redXiangA[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60);try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===kr-1&&r[1]===1+dr)throw new Error("象眼被堵，不可移动到此处！")})}catch(r){return!1}if(!(5<=dr&&dr<=9))return!1;fe.currentPosition.redXiangA[0]=kr,fe.currentPosition.redXiangA[1]=dr,fe.twinklingChess.style.left=60*fe.currentPosition.redXiangA[0]-25+"px",fe.twinklingChess.style.top=60*fe.currentPosition.redXiangA[1]-25+"px"}if("red-xiang-B"===fe.twinklingChess.id){var Pr=fe.currentPosition.redXiangB[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),Xr=fe.currentPosition.redXiangB[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60);try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===Pr-1&&r[1]===1+Xr)throw new Error("象眼被堵，不可移动到此处！")})}catch(r){return!1}if(!(5<=Xr&&Xr<=9))return!1;fe.currentPosition.redXiangB[0]=Pr,fe.currentPosition.redXiangB[1]=Xr,fe.twinklingChess.style.left=60*fe.currentPosition.redXiangB[0]-25+"px",fe.twinklingChess.style.top=60*fe.currentPosition.redXiangB[1]-25+"px"}if("black-xiang-A"===fe.twinklingChess.id){var vr=fe.currentPosition.blackXiangA[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),gr=fe.currentPosition.blackXiangA[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60);try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===vr-1&&r[1]===1+gr)throw new Error("象眼被堵，不可移动到此处！")})}catch(r){return!1}if(!(gr<=4&&0<=gr))return!1;fe.currentPosition.blackXiangA[0]=vr,fe.currentPosition.blackXiangA[1]=gr,fe.twinklingChess.style.left=60*fe.currentPosition.blackXiangA[0]-25+"px",fe.twinklingChess.style.top=60*fe.currentPosition.blackXiangA[1]-25+"px"}if("black-xiang-B"===fe.twinklingChess.id){var Br=fe.currentPosition.blackXiangB[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),Yr=fe.currentPosition.blackXiangB[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60);try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===Br-1&&r[1]===1+Yr)throw new Error("象眼被堵，不可移动到此处！")})}catch(r){return!1}if(!(Yr<=4&&0<=Yr))return!1;fe.currentPosition.blackXiangB[0]=Br,fe.currentPosition.blackXiangB[1]=Yr,fe.twinklingChess.style.left=60*fe.currentPosition.blackXiangB[0]-25+"px",fe.twinklingChess.style.top=60*fe.currentPosition.blackXiangB[1]-25+"px"}}else{if("red-xiang-A"===fe.twinklingChess.id){var wr=fe.currentPosition.redXiangA[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),Cr=fe.currentPosition.redXiangA[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60);try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===wr-1&&r[1]===Cr-1)throw new Error("象眼被堵，不可移动到此处！")})}catch(r){return!1}if(!(5<=Cr&&Cr<=9))return!1;fe.currentPosition.redXiangA[0]=wr,fe.currentPosition.redXiangA[1]=Cr,fe.twinklingChess.style.left=60*fe.currentPosition.redXiangA[0]-25+"px",fe.twinklingChess.style.top=60*fe.currentPosition.redXiangA[1]-25+"px"}if("red-xiang-B"===fe.twinklingChess.id){var yr=fe.currentPosition.redXiangB[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),Ar=fe.currentPosition.redXiangB[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60);try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===yr-1&&r[1]===Ar-1)throw new Error("象眼被堵，不可移动到此处！")})}catch(r){return!1}if(!(5<=Ar&&Ar<=9))return!1;fe.currentPosition.redXiangB[0]=yr,fe.currentPosition.redXiangB[1]=Ar,fe.twinklingChess.style.left=60*fe.currentPosition.redXiangB[0]-25+"px",fe.twinklingChess.style.top=60*fe.currentPosition.redXiangB[1]-25+"px"}if("black-xiang-A"===fe.twinklingChess.id){var pr=fe.currentPosition.blackXiangA[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),Sr=fe.currentPosition.blackXiangA[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60);try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===pr-1&&r[1]===Sr-1)throw new Error("象眼被堵，不可移动到此处！")})}catch(r){return!1}if(!(Sr<=4&&0<=Sr))return!1;fe.currentPosition.blackXiangA[0]=pr,fe.currentPosition.blackXiangA[1]=Sr,fe.twinklingChess.style.left=60*fe.currentPosition.blackXiangA[0]-25+"px",fe.twinklingChess.style.top=60*fe.currentPosition.blackXiangA[1]-25+"px"}if("black-xiang-B"===fe.twinklingChess.id){var Er=fe.currentPosition.blackXiangB[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),xr=fe.currentPosition.blackXiangB[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60);try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===Er-1&&r[1]===xr-1)throw new Error("象眼被堵，不可移动到此处！")})}catch(r){return!1}if(!(xr<=4&&0<=xr))return!1;fe.currentPosition.blackXiangB[0]=Er,fe.currentPosition.blackXiangB[1]=xr,fe.twinklingChess.style.left=60*fe.currentPosition.blackXiangB[0]-25+"px",fe.twinklingChess.style.top=60*fe.currentPosition.blackXiangB[1]-25+"px"}}break;case"仕":if(!(Math.abs(fe.clickX-fe.beforeMoveX)<80&&Math.abs(fe.clickY-fe.beforeMoveY)<80&&40<Math.abs(fe.clickX-fe.beforeMoveX)&&40<Math.abs(fe.clickY-fe.beforeMoveY)))return!1;if(fe.clickX-fe.beforeMoveX<0)if(fe.clickY-fe.beforeMoveY<0){if("red-shi-B"===fe.twinklingChess.id){if(!(3<=fe.currentPosition.redShiB[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60)&&fe.currentPosition.redShiB[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60)<=5&&7<=fe.currentPosition.redShiB[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)&&fe.currentPosition.redShiB[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)<=9))return!1;fe.currentPosition.redShiB[0]=fe.currentPosition.redShiB[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),fe.currentPosition.redShiB[1]=fe.currentPosition.redShiB[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60),fe.twinklingChess.style.left=60*fe.currentPosition.redShiB[0]-25+"px",fe.twinklingChess.style.top=60*fe.currentPosition.redShiB[1]-25+"px"}if("red-shi-A"===fe.twinklingChess.id){if(!(3<=fe.currentPosition.redShiA[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60)&&fe.currentPosition.redShiA[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60)<=5&&7<=fe.currentPosition.redShiA[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)&&fe.currentPosition.redShiA[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)<=9))return!1;fe.currentPosition.redShiA[0]=fe.currentPosition.redShiA[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),fe.currentPosition.redShiA[1]=fe.currentPosition.redShiA[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60),fe.twinklingChess.style.left=60*fe.currentPosition.redShiA[0]-25+"px",fe.twinklingChess.style.top=60*fe.currentPosition.redShiA[1]-25+"px"}}else{if("red-shi-B"===fe.twinklingChess.id){if(!(3<=fe.currentPosition.redShiB[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60)&&fe.currentPosition.redShiB[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60)<=5&&7<=fe.currentPosition.redShiB[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)&&fe.currentPosition.redShiB[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)<=9))return!1;fe.currentPosition.redShiB[0]=fe.currentPosition.redShiB[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),fe.currentPosition.redShiB[1]=fe.currentPosition.redShiB[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60),fe.twinklingChess.style.left=60*fe.currentPosition.redShiB[0]-25+"px",fe.twinklingChess.style.top=60*fe.currentPosition.redShiB[1]-25+"px"}if("red-shi-A"===fe.twinklingChess.id){if(!(3<=fe.currentPosition.redShiA[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60)&&fe.currentPosition.redShiA[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60)<=5&&7<=fe.currentPosition.redShiA[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)&&fe.currentPosition.redShiA[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)<=9))return!1;fe.currentPosition.redShiA[0]=fe.currentPosition.redShiA[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),fe.currentPosition.redShiA[1]=fe.currentPosition.redShiA[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60),fe.twinklingChess.style.left=60*fe.currentPosition.redShiA[0]-25+"px",fe.twinklingChess.style.top=60*fe.currentPosition.redShiA[1]-25+"px"}}else if(fe.clickY-fe.beforeMoveY<0){if("red-shi-B"===fe.twinklingChess.id){if(!(3<=fe.currentPosition.redShiB[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60)&&fe.currentPosition.redShiB[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60)<=5&&7<=fe.currentPosition.redShiB[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)&&fe.currentPosition.redShiB[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)<=9))return!1;fe.currentPosition.redShiB[0]=fe.currentPosition.redShiB[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),fe.currentPosition.redShiB[1]=fe.currentPosition.redShiB[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60),fe.twinklingChess.style.left=60*fe.currentPosition.redShiB[0]-25+"px",fe.twinklingChess.style.top=60*fe.currentPosition.redShiB[1]-25+"px"}if("red-shi-A"===fe.twinklingChess.id){if(!(3<=fe.currentPosition.redShiA[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60)&&fe.currentPosition.redShiA[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60)<=5&&7<=fe.currentPosition.redShiA[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)&&fe.currentPosition.redShiA[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)<=9))return!1;fe.currentPosition.redShiA[0]=fe.currentPosition.redShiA[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),fe.currentPosition.redShiA[1]=fe.currentPosition.redShiA[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60),fe.twinklingChess.style.left=60*fe.currentPosition.redShiA[0]-25+"px",fe.twinklingChess.style.top=60*fe.currentPosition.redShiA[1]-25+"px"}}else{if("red-shi-B"===fe.twinklingChess.id){if(!(3<=fe.currentPosition.redShiB[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60)&&fe.currentPosition.redShiB[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60)<=5&&7<=fe.currentPosition.redShiB[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)&&fe.currentPosition.redShiB[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)<=9))return!1;fe.currentPosition.redShiB[0]=fe.currentPosition.redShiB[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),fe.currentPosition.redShiB[1]=fe.currentPosition.redShiB[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60),fe.twinklingChess.style.left=60*fe.currentPosition.redShiB[0]-25+"px",fe.twinklingChess.style.top=60*fe.currentPosition.redShiB[1]-25+"px"}if("red-shi-A"===fe.twinklingChess.id){if(!(3<=fe.currentPosition.redShiA[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60)&&fe.currentPosition.redShiA[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60)<=5&&7<=fe.currentPosition.redShiA[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)&&fe.currentPosition.redShiA[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)<=9))return!1;fe.currentPosition.redShiA[0]=fe.currentPosition.redShiA[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),fe.currentPosition.redShiA[1]=fe.currentPosition.redShiA[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60),fe.twinklingChess.style.left=60*fe.currentPosition.redShiA[0]-25+"px",fe.twinklingChess.style.top=60*fe.currentPosition.redShiA[1]-25+"px"}}break;case"士":if(!(Math.abs(fe.clickX-fe.beforeMoveX)<80&&Math.abs(fe.clickY-fe.beforeMoveY)<80&&40<Math.abs(fe.clickX-fe.beforeMoveX)&&40<Math.abs(fe.clickY-fe.beforeMoveY)))return!1;if(fe.clickX-fe.beforeMoveX<0)if(fe.clickY-fe.beforeMoveY<0){if("black-shi-B"===fe.twinklingChess.id){if(!(3<=fe.currentPosition.blackShiB[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60)&&fe.currentPosition.blackShiB[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60)<=5&&0<=fe.currentPosition.blackShiB[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)&&fe.currentPosition.blackShiB[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)<=2))return!1;fe.currentPosition.blackShiB[0]=fe.currentPosition.blackShiB[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),fe.currentPosition.blackShiB[1]=fe.currentPosition.blackShiB[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60),fe.twinklingChess.style.left=60*fe.currentPosition.blackShiB[0]-25+"px",fe.twinklingChess.style.top=60*fe.currentPosition.blackShiB[1]-25+"px"}if("black-shi-A"===fe.twinklingChess.id){if(!(3<=fe.currentPosition.blackShiA[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60)&&fe.currentPosition.blackShiA[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60)<=5&&0<=fe.currentPosition.blackShiA[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)&&fe.currentPosition.blackShiA[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)<=2))return!1;fe.currentPosition.blackShiA[0]=fe.currentPosition.blackShiA[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),fe.currentPosition.blackShiA[1]=fe.currentPosition.blackShiA[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60),fe.twinklingChess.style.left=60*fe.currentPosition.blackShiA[0]-25+"px",fe.twinklingChess.style.top=60*fe.currentPosition.blackShiA[1]-25+"px"}}else{if("black-shi-B"===fe.twinklingChess.id){if(!(3<=fe.currentPosition.blackShiB[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60)&&fe.currentPosition.blackShiB[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60)<=5&&0<=fe.currentPosition.blackShiB[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)&&fe.currentPosition.blackShiB[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)<=2))return!1;fe.currentPosition.blackShiB[0]=fe.currentPosition.blackShiB[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),fe.currentPosition.blackShiB[1]=fe.currentPosition.blackShiB[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60),fe.twinklingChess.style.left=60*fe.currentPosition.blackShiB[0]-25+"px",fe.twinklingChess.style.top=60*fe.currentPosition.blackShiB[1]-25+"px"}if("black-shi-A"===fe.twinklingChess.id){if(!(3<=fe.currentPosition.blackShiA[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60)&&fe.currentPosition.blackShiA[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60)<=5&&0<=fe.currentPosition.blackShiA[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)&&fe.currentPosition.blackShiA[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)<=2))return!1;fe.currentPosition.blackShiA[0]=fe.currentPosition.blackShiA[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),fe.currentPosition.blackShiA[1]=fe.currentPosition.blackShiA[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60),fe.twinklingChess.style.left=60*fe.currentPosition.blackShiA[0]-25+"px",fe.twinklingChess.style.top=60*fe.currentPosition.blackShiA[1]-25+"px"}}else if(fe.clickY-fe.beforeMoveY<0){if("black-shi-B"===fe.twinklingChess.id){if(!(3<=fe.currentPosition.blackShiB[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60)&&fe.currentPosition.blackShiB[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60)<=5&&0<=fe.currentPosition.blackShiB[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)&&fe.currentPosition.blackShiB[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)<=2))return!1;fe.currentPosition.blackShiB[0]=fe.currentPosition.blackShiB[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),fe.currentPosition.blackShiB[1]=fe.currentPosition.blackShiB[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60),fe.twinklingChess.style.left=60*fe.currentPosition.blackShiB[0]-25+"px",fe.twinklingChess.style.top=60*fe.currentPosition.blackShiB[1]-25+"px"}if("black-shi-A"===fe.twinklingChess.id){if(!(3<=fe.currentPosition.blackShiA[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60)&&fe.currentPosition.blackShiA[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60)<=5&&0<=fe.currentPosition.blackShiA[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)&&fe.currentPosition.blackShiA[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)<=2))return!1;fe.currentPosition.blackShiA[0]=fe.currentPosition.blackShiA[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),fe.currentPosition.blackShiA[1]=fe.currentPosition.blackShiA[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60),fe.twinklingChess.style.left=60*fe.currentPosition.blackShiA[0]-25+"px",fe.twinklingChess.style.top=60*fe.currentPosition.blackShiA[1]-25+"px"}}else{if("black-shi-B"===fe.twinklingChess.id){if(!(3<=fe.currentPosition.blackShiB[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60)&&fe.currentPosition.blackShiB[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60)<=5&&0<=fe.currentPosition.blackShiB[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)&&fe.currentPosition.blackShiB[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)<=2))return!1;fe.currentPosition.blackShiB[0]=fe.currentPosition.blackShiB[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),fe.currentPosition.blackShiB[1]=fe.currentPosition.blackShiB[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60),fe.twinklingChess.style.left=60*fe.currentPosition.blackShiB[0]-25+"px",fe.twinklingChess.style.top=60*fe.currentPosition.blackShiB[1]-25+"px"}if("black-shi-A"===fe.twinklingChess.id){if(!(3<=fe.currentPosition.blackShiA[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60)&&fe.currentPosition.blackShiA[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60)<=5&&0<=fe.currentPosition.blackShiA[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)&&fe.currentPosition.blackShiA[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)<=2))return!1;fe.currentPosition.blackShiA[0]=fe.currentPosition.blackShiA[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),fe.currentPosition.blackShiA[1]=fe.currentPosition.blackShiA[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60),fe.twinklingChess.style.left=60*fe.currentPosition.blackShiA[0]-25+"px",fe.twinklingChess.style.top=60*fe.currentPosition.blackShiA[1]-25+"px"}}break;case"帅":if(Math.abs(fe.clickX-fe.beforeMoveX)<80&&Math.abs(fe.clickY-fe.beforeMoveY)<20||Math.abs(fe.clickX-fe.beforeMoveX)<20&&Math.abs(fe.clickY-fe.beforeMoveY)<80){var mr=Pe()(fe.currentPosition.redShuai);if(Math.abs(fe.clickX-fe.beforeMoveX)<20?fe.currentPosition.redShuai[1]=fe.clickY-fe.beforeMoveY<0?fe.currentPosition.redShuai[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60):fe.currentPosition.redShuai[1]=fe.currentPosition.redShuai[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60):fe.currentPosition.redShuai[0]=fe.clickX-fe.beforeMoveX<0?fe.currentPosition.redShuai[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60):fe.currentPosition.redShuai[0]=fe.currentPosition.redShuai[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),!(3<=fe.currentPosition.redShuai[0]&&fe.currentPosition.redShuai[0]<=5&&7<=fe.currentPosition.redShuai[1]&&fe.currentPosition.redShuai[1]<=9))return fe.currentPosition.redShuai=mr,!1;fe.twinklingChess.style.left=60*fe.currentPosition.redShuai[0]-25+"px",fe.twinklingChess.style.top=60*fe.currentPosition.redShuai[1]-25+"px"}else{if(fe.currentPosition.redShuai[0]!==fe.currentPosition.blackShuai[0])return!1;try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===fe.currentPosition.redShuai[0]&&r[1]>fe.currentPosition.blackShuai[1]&&r[1]<fe.currentPosition.redShuai[1])throw new Error("")})}catch(r){return!1}fe.currentPosition.redShuai[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)===fe.currentPosition.blackShuai[1]&&(fe.currentPosition.redShuai[1]=fe.currentPosition.blackShuai[1],fe.twinklingChess.style.left=60*fe.currentPosition.redShuai[0]-25+"px",fe.twinklingChess.style.top=60*fe.currentPosition.redShuai[1]-25+"px")}break;case"将":if(Math.abs(fe.clickX-fe.beforeMoveX)<80&&Math.abs(fe.clickY-fe.beforeMoveY)<20||Math.abs(fe.clickX-fe.beforeMoveX)<20&&Math.abs(fe.clickY-fe.beforeMoveY)<80){mr=Pe()(fe.currentPosition.blackShuai);if(Math.abs(fe.clickX-fe.beforeMoveX)<20?fe.currentPosition.blackShuai[1]=fe.clickY-fe.beforeMoveY<0?fe.currentPosition.blackShuai[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60):fe.currentPosition.blackShuai[1]=fe.currentPosition.blackShuai[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60):fe.currentPosition.blackShuai[0]=fe.clickX-fe.beforeMoveX<0?fe.currentPosition.blackShuai[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60):fe.currentPosition.blackShuai[0]=fe.currentPosition.blackShuai[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),!(3<=fe.currentPosition.blackShuai[0]&&fe.currentPosition.blackShuai[0]<=5&&0<=fe.currentPosition.blackShuai[1]&&fe.currentPosition.blackShuai[1]<=2))return fe.currentPosition.blackShuai=mr,!1;fe.twinklingChess.style.left=60*fe.currentPosition.blackShuai[0]-25+"px",fe.twinklingChess.style.top=60*fe.currentPosition.blackShuai[1]-25+"px"}else{if(fe.currentPosition.redShuai[0]!==fe.currentPosition.blackShuai[0])return!1;try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===fe.currentPosition.redShuai[0]&&r[1]>fe.currentPosition.blackShuai[1]&&r[1]<fe.currentPosition.redShuai[1])throw new Error("")})}catch(r){return!1}fe.currentPosition.blackShuai[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)===fe.currentPosition.redShuai[1]&&(fe.currentPosition.blackShuai[1]=fe.currentPosition.redShuai[1],fe.twinklingChess.style.left=60*fe.currentPosition.blackShuai[0]-25+"px",fe.twinklingChess.style.top=60*fe.currentPosition.blackShuai[1]-25+"px")}break;case"炮":case"砲":if(40<Math.abs(fe.clickY-fe.beforeMoveY)&&40<Math.abs(fe.clickX-fe.beforeMoveX))return!1;if("red-pao-A"===fe.twinklingChess.id){var Dr=Pe()(fe.currentPosition.redPaoA);if(Math.abs(fe.clickX-fe.beforeMoveX)<20)if(fe.clickY-fe.beforeMoveY<0){var Tr=fe.currentPosition.redPaoA[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60),qr=0;if(Be()(fe.currentPosition).forEach(function(r){r[0]===Dr[0]&&r[1]<Dr[1]&&r[1]>Tr&&qr++}),1<qr)return;if(0===qr)try{Be()(fe.currentPosition).forEach(function(r){if(r[1]===Tr&&r[0]===Dr[0])throw new Error("落点有子，炮不可移动")})}catch(r){return!1}if(1===qr&&!we(Dr[0],Tr))return!1;fe.currentPosition.redPaoA[1]=Tr}else{var Ir=fe.currentPosition.redPaoA[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60),Or=0;if(Be()(fe.currentPosition).forEach(function(r){r[0]===Dr[0]&&r[1]>Dr[1]&&r[1]<Ir&&Or++}),1<Or)return;if(0===Or)try{Be()(fe.currentPosition).forEach(function(r){if(r[1]===Ir&&r[0]===Dr[0])throw new Error("落点有子，炮不可移动")})}catch(r){return!1}if(1===Or&&!we(Dr[0],Ir))return!1;fe.currentPosition.redPaoA[1]=Ir}else if(fe.clickX-fe.beforeMoveX<0){var Ur=fe.currentPosition.redPaoA[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),jr=0;if(Be()(fe.currentPosition).forEach(function(r){r[1]===Dr[1]&&r[0]<Dr[0]&&r[0]>Ur&&jr++}),1<jr)return;if(0===jr)try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===Ur&&r[1]===Dr[1])throw new Error("落点有子，炮不可移动")})}catch(r){return!1}if(1===jr&&!we(Ur,Dr[1]))return!1;fe.currentPosition.redPaoA[0]=Ur}else{var Lr=fe.currentPosition.redPaoA[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),Nr=0;if(Be()(fe.currentPosition).forEach(function(r){r[1]===Dr[1]&&r[0]>Dr[0]&&r[0]<Lr&&Nr++}),1<Nr)return;if(0===Nr)try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===Lr&&r[1]===Dr[1])throw new Error("落点有子，炮不可移动")})}catch(r){return!1}if(1===Nr&&!we(Lr,Dr[1]))return!1;fe.currentPosition.redPaoA[0]=Lr}fe.twinklingChess.style.left=60*fe.currentPosition.redPaoA[0]-25+"px",fe.twinklingChess.style.top=60*fe.currentPosition.redPaoA[1]-25+"px"}if("red-pao-B"===fe.twinklingChess.id){var _r=Pe()(fe.currentPosition.redPaoB);if(Math.abs(fe.clickX-fe.beforeMoveX)<20)if(fe.clickY-fe.beforeMoveY<0){var Jr=fe.currentPosition.redPaoB[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60),zr=0;if(Be()(fe.currentPosition).forEach(function(r){r[0]===_r[0]&&r[1]<_r[1]&&r[1]>Jr&&zr++}),1<zr)return;if(0===zr)try{Be()(fe.currentPosition).forEach(function(r){if(r[1]===Jr&&r[0]===_r[0])throw new Error("落点有子，炮不可移动")})}catch(r){return!1}if(1===zr&&!we(_r[0],Jr))return!1;fe.currentPosition.redPaoB[1]=Jr}else{var Fr=fe.currentPosition.redPaoB[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60),Gr=0;if(Be()(fe.currentPosition).forEach(function(r){r[0]===_r[0]&&r[1]>_r[1]&&r[1]<Fr&&Gr++}),1<Gr)return;if(0===Gr)try{Be()(fe.currentPosition).forEach(function(r){if(r[1]===Fr&&r[0]===_r[0])throw new Error("落点有子，炮不可移动")})}catch(r){return!1}if(1===Gr&&!we(_r[0],Fr))return!1;fe.currentPosition.redPaoB[1]=Fr}else if(fe.clickX-fe.beforeMoveX<0){var Hr=fe.currentPosition.redPaoB[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),Kr=0;if(Be()(fe.currentPosition).forEach(function(r){r[1]===_r[1]&&r[0]<_r[0]&&r[0]>Hr&&Kr++}),1<Kr)return;if(0===Kr)try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===Hr&&r[1]===_r[1])throw new Error("落点有子，炮不可移动")})}catch(r){return!1}if(1===Kr&&!we(Hr,_r[1]))return!1;fe.currentPosition.redPaoB[0]=Hr}else{var Qr=fe.currentPosition.redPaoB[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),Rr=0;if(Be()(fe.currentPosition).forEach(function(r){r[1]===_r[1]&&r[0]>_r[0]&&r[0]<Qr&&Rr++}),1<Rr)return;if(0===Rr)try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===Qr&&r[1]===_r[1])throw new Error("落点有子，炮不可移动")})}catch(r){return!1}if(1===Rr&&!we(Qr,_r[1]))return!1;fe.currentPosition.redPaoB[0]=Qr}fe.twinklingChess.style.left=60*fe.currentPosition.redPaoB[0]-25+"px",fe.twinklingChess.style.top=60*fe.currentPosition.redPaoB[1]-25+"px"}if("black-pao-A"===fe.twinklingChess.id){var Vr=Pe()(fe.currentPosition.blackPaoA);if(Math.abs(fe.clickX-fe.beforeMoveX)<20)if(fe.clickY-fe.beforeMoveY<0){var Wr=fe.currentPosition.blackPaoA[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60),Zr=0;if(Be()(fe.currentPosition).forEach(function(r){r[0]===Vr[0]&&r[1]<Vr[1]&&r[1]>Wr&&Zr++}),1<Zr)return;if(0===Zr)try{Be()(fe.currentPosition).forEach(function(r){if(r[1]===Wr&&r[0]===Vr[0])throw new Error("落点有子，炮不可移动")})}catch(r){return!1}if(1===Zr&&!we(Vr[0],Wr))return!1;fe.currentPosition.blackPaoA[1]=Wr}else{var $r=fe.currentPosition.blackPaoA[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60),re=0;if(Be()(fe.currentPosition).forEach(function(r){r[0]===Vr[0]&&r[1]>Vr[1]&&r[1]<$r&&re++}),1<re)return;if(0===re)try{Be()(fe.currentPosition).forEach(function(r){if(r[1]===$r&&r[0]===Vr[0])throw new Error("落点有子，炮不可移动")})}catch(r){return!1}if(1===re&&!we(Vr[0],$r))return!1;fe.currentPosition.blackPaoA[1]=$r}else if(fe.clickX-fe.beforeMoveX<0){var ee=fe.currentPosition.blackPaoA[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),ie=0;if(Be()(fe.currentPosition).forEach(function(r){r[1]===Vr[1]&&r[0]<Vr[0]&&r[0]>ee&&ie++}),1<ie)return;if(0===ie)try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===ee&&r[1]===Vr[1])throw new Error("落点有子，炮不可移动")})}catch(r){return!1}if(1===ie&&!we(ee,Vr[1]))return!1;fe.currentPosition.blackPaoA[0]=ee}else{var te=fe.currentPosition.blackPaoA[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),oe=0;if(Be()(fe.currentPosition).forEach(function(r){r[1]===Vr[1]&&r[0]>Vr[0]&&r[0]<te&&oe++}),1<oe)return;if(0===oe)try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===te&&r[1]===Vr[1])throw new Error("落点有子，炮不可移动")})}catch(r){return!1}if(1===oe&&!we(te,Vr[1]))return!1;fe.currentPosition.blackPaoA[0]=te}fe.twinklingChess.style.left=60*fe.currentPosition.blackPaoA[0]-25+"px",fe.twinklingChess.style.top=60*fe.currentPosition.blackPaoA[1]-25+"px"}if("black-pao-B"===fe.twinklingChess.id){var ne=Pe()(fe.currentPosition.blackPaoB);if(Math.abs(fe.clickX-fe.beforeMoveX)<20)if(fe.clickY-fe.beforeMoveY<0){var ce=fe.currentPosition.blackPaoB[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60),ae=0;if(Be()(fe.currentPosition).forEach(function(r){r[0]===ne[0]&&r[1]<ne[1]&&r[1]>ce&&ae++}),1<ae)return;if(0===ae)try{Be()(fe.currentPosition).forEach(function(r){if(r[1]===ce&&r[0]===ne[0])throw new Error("落点有子，炮不可移动")})}catch(r){return!1}if(1===ae&&!we(ne[0],ce))return!1;fe.currentPosition.blackPaoB[1]=ce}else{var se=fe.currentPosition.blackPaoB[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60),le=0;if(Be()(fe.currentPosition).forEach(function(r){r[0]===ne[0]&&r[1]>ne[1]&&r[1]<se&&le++}),1<le)return;if(0===le)try{Be()(fe.currentPosition).forEach(function(r){if(r[1]===se&&r[0]===ne[0])throw new Error("落点有子，炮不可移动")})}catch(r){return!1}if(1===le&&!we(ne[0],se))return!1;fe.currentPosition.blackPaoB[1]=se}else if(fe.clickX-fe.beforeMoveX<0){var he=fe.currentPosition.blackPaoB[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),ue=0;if(Be()(fe.currentPosition).forEach(function(r){r[1]===ne[1]&&r[0]<ne[0]&&r[0]>he&&ue++}),1<ue)return;if(0===ue)try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===he&&r[1]===ne[1])throw new Error("落点有子，炮不可移动")})}catch(r){return!1}if(1===ue&&!we(he,ne[1]))return!1;fe.currentPosition.blackPaoB[0]=he}else{var be=fe.currentPosition.blackPaoB[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60),Me=0;if(Be()(fe.currentPosition).forEach(function(r){r[1]===ne[1]&&r[0]>ne[0]&&r[0]<be&&Me++}),1<Me)return;if(0===Me)try{Be()(fe.currentPosition).forEach(function(r){if(r[0]===be&&r[1]===ne[1])throw new Error("落点有子，炮不可移动")})}catch(r){return!1}if(1===Me&&!we(be,ne[1]))return!1;fe.currentPosition.blackPaoB[0]=be}fe.twinklingChess.style.left=60*fe.currentPosition.blackPaoB[0]-25+"px",fe.twinklingChess.style.top=60*fe.currentPosition.blackPaoB[1]-25+"px"}break;case"兵":if("red-bing-A"===fe.twinklingChess.id){if(!(Math.abs(fe.clickX-fe.beforeMoveX)<20&&Math.abs(fe.clickY-fe.beforeMoveY)<80||Math.abs(fe.clickY-fe.beforeMoveY)<20&&Math.abs(fe.clickX-fe.beforeMoveX)<80))return!1;if(5<=fe.currentPosition.redBingA[1]){if(!(fe.clickY-fe.beforeMoveY<0&&fe.clickX-fe.beforeMoveX<20))return!1;fe.currentPosition.redBingA[1]=fe.currentPosition.redBingA[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)}else if(Math.abs(fe.clickX-fe.beforeMoveX)<20){if(!(fe.clickY-fe.beforeMoveY<0))return!1;fe.currentPosition.redBingA[1]=fe.currentPosition.redBingA[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)}else fe.currentPosition.redBingA[0]=fe.clickX-fe.beforeMoveX<0?fe.currentPosition.redBingA[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60):fe.currentPosition.redBingA[0]=fe.currentPosition.redBingA[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60);fe.twinklingChess.style.top=60*fe.currentPosition.redBingA[1]-25+"px",fe.twinklingChess.style.left=60*fe.currentPosition.redBingA[0]-25+"px"}if("red-bing-B"===fe.twinklingChess.id){if(!(Math.abs(fe.clickX-fe.beforeMoveX)<20&&Math.abs(fe.clickY-fe.beforeMoveY)<80||Math.abs(fe.clickY-fe.beforeMoveY)<20&&Math.abs(fe.clickX-fe.beforeMoveX)<80))return!1;if(5<=fe.currentPosition.redBingB[1]){if(!(fe.clickY-fe.beforeMoveY<0&&fe.clickX-fe.beforeMoveX<20))return!1;fe.currentPosition.redBingB[1]=fe.currentPosition.redBingB[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)}else if(Math.abs(fe.clickX-fe.beforeMoveX)<20){if(!(fe.clickY-fe.beforeMoveY<0))return!1;fe.currentPosition.redBingB[1]=fe.currentPosition.redBingB[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)}else fe.currentPosition.redBingB[0]=fe.clickX-fe.beforeMoveX<0?fe.currentPosition.redBingB[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60):fe.currentPosition.redBingB[0]=fe.currentPosition.redBingB[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60);fe.twinklingChess.style.top=60*fe.currentPosition.redBingB[1]-25+"px",fe.twinklingChess.style.left=60*fe.currentPosition.redBingB[0]-25+"px"}if("red-bing-C"===fe.twinklingChess.id){if(!(Math.abs(fe.clickX-fe.beforeMoveX)<20&&Math.abs(fe.clickY-fe.beforeMoveY)<80||Math.abs(fe.clickY-fe.beforeMoveY)<20&&Math.abs(fe.clickX-fe.beforeMoveX)<80))return!1;if(5<=fe.currentPosition.redBingC[1]){if(!(fe.clickY-fe.beforeMoveY<0&&fe.clickX-fe.beforeMoveX<20))return!1;fe.currentPosition.redBingC[1]=fe.currentPosition.redBingC[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)}else if(Math.abs(fe.clickX-fe.beforeMoveX)<20){if(!(fe.clickY-fe.beforeMoveY<0))return!1;fe.currentPosition.redBingC[1]=fe.currentPosition.redBingC[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)}else fe.currentPosition.redBingC[0]=fe.clickX-fe.beforeMoveX<0?fe.currentPosition.redBingC[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60):fe.currentPosition.redBingC[0]=fe.currentPosition.redBingC[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60);fe.twinklingChess.style.top=60*fe.currentPosition.redBingC[1]-25+"px",fe.twinklingChess.style.left=60*fe.currentPosition.redBingC[0]-25+"px"}if("red-bing-D"===fe.twinklingChess.id){if(!(Math.abs(fe.clickX-fe.beforeMoveX)<20&&Math.abs(fe.clickY-fe.beforeMoveY)<80||Math.abs(fe.clickY-fe.beforeMoveY)<20&&Math.abs(fe.clickX-fe.beforeMoveX)<80))return!1;if(5<=fe.currentPosition.redBingD[1]){if(!(fe.clickY-fe.beforeMoveY<0&&fe.clickX-fe.beforeMoveX<20))return!1;fe.currentPosition.redBingD[1]=fe.currentPosition.redBingD[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)}else if(Math.abs(fe.clickX-fe.beforeMoveX)<20){if(!(fe.clickY-fe.beforeMoveY<0))return!1;fe.currentPosition.redBingD[1]=fe.currentPosition.redBingD[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)}else fe.currentPosition.redBingD[0]=fe.clickX-fe.beforeMoveX<0?fe.currentPosition.redBingD[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60):fe.currentPosition.redBingD[0]=fe.currentPosition.redBingD[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60);fe.twinklingChess.style.top=60*fe.currentPosition.redBingD[1]-25+"px",fe.twinklingChess.style.left=60*fe.currentPosition.redBingD[0]-25+"px"}if("red-bing-E"===fe.twinklingChess.id){if(!(Math.abs(fe.clickX-fe.beforeMoveX)<20&&Math.abs(fe.clickY-fe.beforeMoveY)<80||Math.abs(fe.clickY-fe.beforeMoveY)<20&&Math.abs(fe.clickX-fe.beforeMoveX)<80))return!1;if(5<=fe.currentPosition.redBingE[1]){if(!(fe.clickY-fe.beforeMoveY<0&&fe.clickX-fe.beforeMoveX<20))return!1;fe.currentPosition.redBingE[1]=fe.currentPosition.redBingE[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)}else if(Math.abs(fe.clickX-fe.beforeMoveX)<20){if(!(fe.clickY-fe.beforeMoveY<0))return!1;fe.currentPosition.redBingE[1]=fe.currentPosition.redBingE[1]-Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)}else fe.currentPosition.redBingE[0]=fe.clickX-fe.beforeMoveX<0?fe.currentPosition.redBingE[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60):fe.currentPosition.redBingE[0]=fe.currentPosition.redBingE[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60);fe.twinklingChess.style.top=60*fe.currentPosition.redBingE[1]-25+"px",fe.twinklingChess.style.left=60*fe.currentPosition.redBingE[0]-25+"px"}break;case"卒":if("black-bing-A"===fe.twinklingChess.id){if(!(Math.abs(fe.clickX-fe.beforeMoveX)<20&&Math.abs(fe.clickY-fe.beforeMoveY)<80||Math.abs(fe.clickY-fe.beforeMoveY)<20&&Math.abs(fe.clickX-fe.beforeMoveX)<80))return!1;if(fe.currentPosition.blackBingA[1]<5){if(!(0<fe.clickY-fe.beforeMoveY&&fe.clickX-fe.beforeMoveX<20))return!1;fe.currentPosition.blackBingA[1]=fe.currentPosition.blackBingA[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)}else if(Math.abs(fe.clickX-fe.beforeMoveX)<20){if(!(0<fe.clickY-fe.beforeMoveY))return!1;fe.currentPosition.blackBingA[1]=fe.currentPosition.blackBingA[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)}else fe.currentPosition.blackBingA[0]=fe.clickX-fe.beforeMoveX<0?fe.currentPosition.blackBingA[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60):fe.currentPosition.blackBingA[0]=fe.currentPosition.blackBingA[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60);fe.twinklingChess.style.top=60*fe.currentPosition.blackBingA[1]-25+"px",fe.twinklingChess.style.left=60*fe.currentPosition.blackBingA[0]-25+"px"}if("black-bing-B"===fe.twinklingChess.id){if(!(Math.abs(fe.clickX-fe.beforeMoveX)<20&&Math.abs(fe.clickY-fe.beforeMoveY)<80||Math.abs(fe.clickY-fe.beforeMoveY)<20&&Math.abs(fe.clickX-fe.beforeMoveX)<80))return!1;if(fe.currentPosition.blackBingB[1]<5){if(!(0<fe.clickY-fe.beforeMoveY&&fe.clickX-fe.beforeMoveX<20))return!1;fe.currentPosition.blackBingB[1]=fe.currentPosition.blackBingB[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)}else if(Math.abs(fe.clickX-fe.beforeMoveX)<20){if(!(0<fe.clickY-fe.beforeMoveY))return!1;fe.currentPosition.blackBingB[1]=fe.currentPosition.blackBingB[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)}else fe.currentPosition.blackBingB[0]=fe.clickX-fe.beforeMoveX<0?fe.currentPosition.blackBingB[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60):fe.currentPosition.blackBingB[0]=fe.currentPosition.blackBingB[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60);fe.twinklingChess.style.top=60*fe.currentPosition.blackBingB[1]-25+"px",fe.twinklingChess.style.left=60*fe.currentPosition.blackBingB[0]-25+"px"}if("black-bing-C"===fe.twinklingChess.id){if(!(Math.abs(fe.clickX-fe.beforeMoveX)<20&&Math.abs(fe.clickY-fe.beforeMoveY)<80||Math.abs(fe.clickY-fe.beforeMoveY)<20&&Math.abs(fe.clickX-fe.beforeMoveX)<80))return!1;if(fe.currentPosition.blackBingC[1]<5){if(!(0<fe.clickY-fe.beforeMoveY&&fe.clickX-fe.beforeMoveX<20))return!1;fe.currentPosition.blackBingC[1]=fe.currentPosition.blackBingC[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)}else if(Math.abs(fe.clickX-fe.beforeMoveX)<20){if(!(0<fe.clickY-fe.beforeMoveY))return!1;fe.currentPosition.blackBingC[1]=fe.currentPosition.blackBingC[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)}else fe.currentPosition.blackBingC[0]=fe.clickX-fe.beforeMoveX<0?fe.currentPosition.blackBingC[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60):fe.currentPosition.blackBingC[0]=fe.currentPosition.blackBingC[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60);fe.twinklingChess.style.top=60*fe.currentPosition.blackBingC[1]-25+"px",fe.twinklingChess.style.left=60*fe.currentPosition.blackBingC[0]-25+"px"}if("black-bing-D"===fe.twinklingChess.id){if(!(Math.abs(fe.clickX-fe.beforeMoveX)<20&&Math.abs(fe.clickY-fe.beforeMoveY)<80||Math.abs(fe.clickY-fe.beforeMoveY)<20&&Math.abs(fe.clickX-fe.beforeMoveX)<80))return!1;if(fe.currentPosition.blackBingD[1]<5){if(!(0<fe.clickY-fe.beforeMoveY&&fe.clickX-fe.beforeMoveX<20))return!1;fe.currentPosition.blackBingD[1]=fe.currentPosition.blackBingD[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)}else if(Math.abs(fe.clickX-fe.beforeMoveX)<20){if(!(0<fe.clickY-fe.beforeMoveY))return!1;fe.currentPosition.blackBingD[1]=fe.currentPosition.blackBingD[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)}else fe.currentPosition.blackBingD[0]=fe.clickX-fe.beforeMoveX<0?fe.currentPosition.blackBingD[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60):fe.currentPosition.blackBingD[0]=fe.currentPosition.blackBingD[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60);fe.twinklingChess.style.top=60*fe.currentPosition.blackBingD[1]-25+"px",fe.twinklingChess.style.left=60*fe.currentPosition.blackBingD[0]-25+"px"}if("black-bing-E"===fe.twinklingChess.id){if(!(Math.abs(fe.clickX-fe.beforeMoveX)<20&&Math.abs(fe.clickY-fe.beforeMoveY)<80||Math.abs(fe.clickY-fe.beforeMoveY)<20&&Math.abs(fe.clickX-fe.beforeMoveX)<80))return!1;if(fe.currentPosition.blackBingE[1]<5){if(!(0<fe.clickY-fe.beforeMoveY&&fe.clickX-fe.beforeMoveX<20))return!1;fe.currentPosition.blackBingE[1]=fe.currentPosition.blackBingE[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)}else if(Math.abs(fe.clickX-fe.beforeMoveX)<20){if(!(0<fe.clickY-fe.beforeMoveY))return!1;fe.currentPosition.blackBingE[1]=fe.currentPosition.blackBingE[1]+Math.round(Math.abs(fe.clickY-fe.beforeMoveY)/60)}else fe.currentPosition.blackBingE[0]=fe.clickX-fe.beforeMoveX<0?fe.currentPosition.blackBingE[0]-Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60):fe.currentPosition.blackBingE[0]=fe.currentPosition.blackBingE[0]+Math.round(Math.abs(fe.clickX-fe.beforeMoveX)/60);fe.twinklingChess.style.top=60*fe.currentPosition.blackBingE[1]-25+"px",fe.twinklingChess.style.left=60*fe.currentPosition.blackBingE[0]-25+"px"}}if(!function(i){var t,o=Ye(fe.twinklingChess.style.left),n=Ye(fe.twinklingChess.style.top),c="";try{Be()(i).forEach(function(r,e){if(r[0]===o&&r[1]===n)throw c=ge()(i)[e],ve()(fe.currentPosition,c,{value:[void 0,void 0]}),t=fe.domIdMap.get(c),document.querySelector(t).style.display="none",new Error("")})}catch(i){}return"redShuai"===c?(clearInterval(fe.blackTimer),fe.twinklingChess.style.opacity="1",clearInterval(fe.clickChessTimer),document.querySelector(".chessContent").removeEventListener("click",ke),document.querySelector(".container").removeEventListener("click",de),document.querySelector("#red-act").style.display="none",document.querySelector("#black-act").style.display="none",alert("黑方胜利，游戏结束"),1):"blackShuai"===c&&(clearInterval(fe.redTimer),fe.twinklingChess.style.opacity="1",clearInterval(fe.clickChessTimer),document.querySelector(".chessContent").removeEventListener("click",ke),document.querySelector(".container").removeEventListener("click",de),document.querySelector("#red-act").style.display="none",document.querySelector("#black-act").style.display="none",alert("红方胜利，游戏结束"),1)}(r))return clearInterval(fe.clickChessTimer),fe.twinklingChess.style.opacity="1",fe.twinklingChess=null,fe.step=!1,"playerchange"}()),"playerchange"===e&&(fe.currentPlayer="red"===fe.currentPlayer?"black":"red","red"===fe.currentPlayer?(clearInterval(fe.blackTimer),document.querySelector("#red-act").style.opacity="1",document.querySelector("#black-act").style.opacity="0",fe.redUsedSeconds++,document.querySelector(".used-time-red").innerText=n(fe.redUsedSeconds),fe.redTimer=setInterval(function(){fe.redUsedSeconds++,document.querySelector(".used-time-red").innerText=n(fe.redUsedSeconds)},1e3)):(clearInterval(fe.redTimer),document.querySelector("#red-act").style.opacity="0",document.querySelector("#black-act").style.opacity="1",fe.blackUsedSeconds++,document.querySelector(".used-time-black").innerText=n(fe.blackUsedSeconds),fe.blackTimer=setInterval(function(){fe.blackUsedSeconds++,document.querySelector(".used-time-black").innerText=n(fe.blackUsedSeconds)},1e3)))})}});